


type: map
mapping:
            
  "systemd_units":        
    type: "seq"
    sequence:
    - type: map
      mapping:
        "name": { type: str, required: true }        
        "scope": { type: str, required: true }
        "unit_file": { type: str, required: true }
        "no_remove": { type: bool, required: false }    # Default to false
        "enabled": { type: bool, required: false } # Start on boot ? Default true
        "state": { type: str, required: false } # started/stopped/current . Default: current
        "action_on_notify": { type: str, required: false } # restart/reload/none. Default restart
        
  "supervisors":
    type: "seq"
    sequence:
    - type: map
      mapping:
        "managed": { type: bool, required: false } # Default: yes
        "scope": { type: str, required: true }
        "name": { type: str, required: true }
        "user": { type: str, required: true }        
        "group": { type: str, required: true }        
        "conf_file_src": { type: str, required: false } # Default to an internally provided one
        "conf_file_dst": { type: str, required: false } # Default /etc/supervisord_<name>.conf
        "logs_dir": { type: str, required: false } # Default /var/log/supervisor_<name>
        "pid_dir": { type: str, required: false } # Default /var/run/supervisor_<name>
        "socks_dir": { type: str, required: false } # Default to /var/run/supervisor_<name>
        "include_dir": { type: str, required: false } # Default to /etc/supervisord_<name>.d
        "supervisorctl": { type: str, required: false } # Default to /usr/bin/supervisorctl_<name>.d
        "password": { type: str, required: false }  # Default to no password. (Access is limited to user)
        "no_remove": { type: bool, required: false }    # Default to false
        "enabled": { type: bool, required: false } # Start on boot ? Default true
        "state": { type: str, required: false } # started/stopped/current . Default: current
        "http_server":
          type: map
          mapping:
            "endpoint": { type: str, required: false } # Default to 127.0.0.1:9001
            "username": { type: str, required: false } # Default to no user if no password, or user if a password is provided
            "password": { type: str, required: false } # Default to no password (Open server)
        
        
  "supervisor_groups":
    type: seq
    sequence:
    - type: map
      mapping:
        "supervisor": { type: str, required: true }
        "name": { type: str, required: true }
        "no_remove": { type: bool, required: false }    # Default to false
        
  "supervisor_programs":
    type: seq
    sequence:
    - type: map
      mapping:
        "supervisor": { type: str, required: true }
        "name": { type: str, required: true }
        "config_file_src": { type: str, required: false } # Default to an internally provided one
        "command": { type: str, required: false } # Required if no config_file_src provided
        "group": { type: str, required: false }
        "no_remove": { type: bool, required: false }    # Default to false
        
        
        
        
        
        
        
